<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Terceros - MR Letreros</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/terceros-styles.css">
</head>
<body>
  <!-- Part√≠culas de fondo -->
  <div class="particles" id="particles"></div>

  <!-- Header -->
  <header class="main-header">
    <div class="header-left">
      <img src="img/logo.png" alt="MR Letreros" class="logo-img">
      <a href="index.html" class="btn-home">‚Üê Volver al Inicio</a>
    </div>
    <div class="header-title">üîß TERCEROS</div>
  </header>

  <!-- Content -->
  <div class="content-container">
    <div class="section-header">
      <div class="section-info">
        <h2>Servicios de Terceros</h2>
        <p>Configur√° servicios externos con c√°lculo de margen autom√°tico</p>
      </div>
      <button class="btn btn-primary" id="btnAddTercero">‚ûï Agregar Empresa</button>
    </div>

    <!-- TERCEROS COMPANIES -->
    <div class="section-header" style="margin-top: 2rem;">
      <div>
        <h2 class="section-title">Empresas de Servicios Terceros</h2>
        <p class="section-subtitle">Gestiona servicios externos y sus m√°rgenes de ganancia</p>
      </div>
    </div>

    <div id="tercerosList" class="products-grid">
      <p class="empty-state">No hay empresas configuradas. Agreg√° la primera.</p>
    </div>
  </div>

  <!-- Modal para Agregar/Editar Empresa -->
  <div class="modal" id="empresaModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">üè¢ Agregar Empresa</h2>
        <button class="btn-close" id="btnCloseEmpresa">√ó</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label" for="empresaNombre">Nombre de la Empresa *</label>
          <input type="text" id="empresaNombre" placeholder="Ej: Manuel construcci√≥n" class="form-input">
        </div>
        <div class="form-group">
          <label class="form-label" for="empresaContacto">Contacto (opcional)</label>
          <input type="text" id="empresaContacto" placeholder="Tel√©fono, email, etc" class="form-input">
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="btnCancelEmpresa">Cancelar</button>
          <button class="btn btn-primary" id="btnSaveEmpresa">üíæ Guardar Empresa</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para Agregar/Editar Servicio -->
  <div class="modal" id="servicioModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">üîß Agregar Servicio</h2>
        <button class="btn-close" id="btnCloseServicio">√ó</button>
      </div>
      <div class="modal-body">
        <p class="modal-subtitle" id="empresaSubtitle">Empresa: <strong>--</strong></p>
        
        <div class="form-group">
          <label class="form-label" for="servicioNombre">Nombre del Servicio *</label>
          <input type="text" id="servicioNombre" placeholder="Ej: Armado de estructura" class="form-input">
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label class="form-label" for="servicioCategoria">Categor√≠a</label>
            <select id="servicioCategoria" class="form-select">
              <option value="">Seleccionar...</option>
            </select>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="servicioUnidad">Unidad</label>
            <select id="servicioUnidad" class="form-select">
              <option value="m¬≤">Metro Cuadrado (m¬≤)</option>
              <option value="m">Metro Lineal (m)</option>
              <option value="unidad">Unidad</option>
              <option value="servicio">Servicio</option>
            </select>
          </div>
        </div>
        
        <div class="highlight-box">
          <h4>üí∞ Precios</h4>
          
          <div class="form-row">
            <div class="form-group">
              <label class="form-label" for="servicioCosto">Mi Costo *</label>
              <input type="number" id="servicioCosto" placeholder="500" step="0.01" class="form-input">
              <small>Lo que te cuesta</small>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="servicioPrecio">Precio P√∫blico *</label>
              <input type="number" id="servicioPrecio" placeholder="800" step="0.01" class="form-input">
              <small>Lo que cobras</small>
            </div>
          </div>
        </div>
        
        <div class="calc-display">
          <div class="calc-label">MARGEN DE GANANCIA</div>
          <div class="calc-value" id="servicioMargen">--%</div>
          <div class="calc-formula">Completa los precios</div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" id="btnCancelServicio">Cancelar</button>
          <button class="btn btn-primary" id="btnSaveServicio">üíæ Guardar Servicio</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/shared/modal-system.js?v=2"></script>
  <script src="js/shared/data-manager-network.js?v=2"></script>
  <script src="js/terceros/terceros-main.js?v=2"></script>
</body>
</html>
